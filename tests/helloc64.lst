ASM6502 LISTING FOR helloc64.asm @ 2023-04-09 00:41

FPos  PC    Code          Line# Assembler text
                             1: ; C64 Hello World
                             2: ; assemble to .PRG file: asm6502 helloc64.asm helloc64.prg helloc64.lst
                             3: 
                          FILE: c64prg.inc
                             1: ; C64 .PRG file header and BASIC SYS command
                             9: basic_upstart:                  ; BASIC code: 10 SYS 2062
0002  0801  0C 08 0A        10:         .word @end, 10          ; ptr to next basic line and line number 10
0006  0805  9E 20 32 ...    11:         .byte $9E, " 2062", 0   ; SYS token and address string of subroutine
000D  080C  00 00           12: @end    .word 0                 ; null ptr to indicate end of basic text
                            13: 
                            14: start:                          ; this is at address 2062 ($080E)
                          FILE: helloc64.asm
                          FILE: c64krnl.inc
                             1: ; C64 KERNAL definitions - listing disabled
                          FILE: helloc64.asm
                             6: 
                             7: ; start: label gets implicitly defined by c64prg.inc, see listing
000F  080E  A2 00            8:         ldx #0                  ; load value 0 into X, beginning of string
0011  0810  BD 1C 08         9:  @1     lda hello@msg,x         ; read string byte indexed by X
                            10:                                 ; hello@msg is a local label
0014  0813  20 D2 FF        11:         jsr CHROUT              ; output char via kernal routine CHROUT
0017  0816  E8              12:         inx                     ; next string byte
0018  0817  E0 0F           13:         cpx #hello@len          ; compare X with the string length stored in
                            14:                                 ; local variable hello@len
001A  0819  D0 F5           15:         bne @1                  ; and jump to @1 if X < hello@len
001C  081B  60              16:         rts
                            17: 
                            18: hello:                          ; hello string label with locals @msg and @len
001D  081C  48 45 4C ...    19:   @msg .byte "HELLO, WORLD!", CR, LF
                            20:   @len = @ - @msg               ; calculate length of string
                            21: 
                            22: CR = $0C                        ; give carrige return a symbolic name
                            23: LF = $0A                        ; ... also line feed


<<< SYMBOLS BY NAME >>>

   HEX    DEC   NAME
V  FFC6  65478   CHKIN                           
V  FFC9  65481   CHKOUT                          
V  FFCF  65487   CHRIN                           
V  FFD2  65490   CHROUT                          
V  FFE7  65511   CLALL                           
V  FFC3  65475   CLOSE                           
V  FFCC  65484   CLRCHN                          
V  000C     12   CR                              
V  FFE4  65508   GETIN                           
V  FFF3  65523   IOBASE                          
V  000A     10   LF                              
V  FFB1  65457   LISTEN                          
V  FFD5  65493   LOAD                            
V  0801   2049   LOAD_ADDR                       
V  FFC0  65472   OPEN                            
V  FFF0  65520   PLOT                            
V  FFDE  65502   RDTIM                           
V  FFD8  65496   SAVE                            
V  FFED  65517   SCREEN                          
V  FFDB  65499   SETTIM                          
V  FFE1  65505   STOP                            
V  FFB4  65460   TALK                            
V  FFEA  65514   UDTIM                           
L  0801   2049   basic_upstart                   
L  081C   2076   hello                           
L  080E   2062   start                           


<<< SYMBOLS BY VALUE >>>

   HEX    DEC   NAME
V  000A     10   LF                              
V  000C     12   CR                              
V  0801   2049   LOAD_ADDR                       
L  0801   2049   basic_upstart                   
L  080E   2062   start                           
L  081C   2076   hello                           
V  FFB1  65457   LISTEN                          
V  FFB4  65460   TALK                            
V  FFC0  65472   OPEN                            
V  FFC3  65475   CLOSE                           
V  FFC6  65478   CHKIN                           
V  FFC9  65481   CHKOUT                          
V  FFCC  65484   CLRCHN                          
V  FFCF  65487   CHRIN                           
V  FFD2  65490   CHROUT                          
V  FFD5  65493   LOAD                            
V  FFD8  65496   SAVE                            
V  FFDB  65499   SETTIM                          
V  FFDE  65502   RDTIM                           
V  FFE1  65505   STOP                            
V  FFE4  65508   GETIN                           
V  FFE7  65511   CLALL                           
V  FFEA  65514   UDTIM                           
V  FFED  65517   SCREEN                          
V  FFF0  65520   PLOT                            
V  FFF3  65523   IOBASE                          
